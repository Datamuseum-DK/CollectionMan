<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  <head th:insert="~{layout :: headerFragment (webtitle=${item.headline})}">
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" type="text/css" href="../static/css/localstyles.css" th:href="@{/css/localstyles.css}"/>
    <link rel="stylesheet" type="text/css" href="../static/css/tabstyles.css" th:href="@{/css/tabstyles.css}"/>
    <script th:src="@{/js/tabops.js}" src="../static/js/tabops.js"><![CDATA[ ]]></script>
  </head>
  <body>
    <header th:insert="~{layout :: bannerFragment}">
      <h1>
        <a href="index.html">DDHF mobilregistrering</a>
      </h1>
    </header>
    <main>
      <div id="actions">
        <form id="editform">
          <button id="search" type="submit" form="editform" formaction="items.html" th:formaction="@{/items}">Liste</button>
          <button id="rediger" type="submit" form="editform" formaction="item-edit.html" th:formaction="@{/items/edit}" sec:authorize="hasAuthority('CHANGE_ITEMS')">Rediger</button>
          <button id="flyt" type="submit" formaction="item-move.html" th:formaction="@{/items/move}" th:unless="${item.itemClass.getLevel() eq 0}" sec:authorize="hasAuthority('CHANGE_ITEMS')">Flyt</button>
          <button th:unless="${item.qrcode}" type="submit" form="editform" formaction="addqrform.html" th:formaction="@{/items/addqrform(id=${item.id})}">Scan QR</button>
          <button type="submit" sec:authorize="hasAuthority('ADD_ITEMS')" form="createform" th:if="${types[0].getLevel() gt item.itemClass.getLevel()}">Opret heri</button>
          <button sec:authorize="hasAuthority('DELETE_ITEMS')" th:if="${#lists.isEmpty(children)}" id="delete" type="submit" form="editform" formaction="items.html" th:formaction="@{/items/delete/{id}(id=${item.id})}" onclick="return confirm('Er du sikker?')">Slet</button>
          <input type="hidden" name="id" th:value="${item.id}" value="11000937"/>
        </form>
        <form id="createform" style="display:none" action="item-addform.html" th:action="@{/items/addform}" sec:authorize="hasAuthority('ADD_ITEMS')" method="post">
          <input type="hidden" name="placementid" th:value="${item.id}"/>
        </form>
      </div>
      <h2>
        <span th:remove="tag" th:text="${item.headline}">Xerox 860 tekstbehandlingsanlæg</span>
      </h2>
      <div class="tab">
        <button class="tablinks active" onclick="openTab(event, 'Identifikation')">Identifikation</button>
        <button class="tablinks" onclick="openTab(event, 'Erhvervelse')">Erhvervelse</button>
        <button class="tablinks" onclick="openTab(event, 'Brugsaktivitet')">Brug</button>
        <button class="tablinks" onclick="openTab(event, 'Notater')">Notater</button>
      </div>
      <fieldset id="Identifikation" class="tabcontent" style="display:block">
        <legend>Identifikation</legend>
        <dl class="factsheet">
          <dt>Genstand nr.</dt>
          <dd><span th:text="${item.id}">11000937</span> (<span th:text="${item.itemStatus.name}">Godkendt</span>
          <span th:text="${#strings.toLowerCase(item.itemClass.name)}">artefakt</span>)
        </dd>
          <dt>Sag</dt>
          <dd>
            <a href="files-view.html" th:href="@{/files/view/{id}(id=${file.id})}" th:text="${file.title}">ALCATEL effekter</a>
          </dd>
          <dt>Betegnelse</dt>
          <dd th:text="${item.headline}">Xerox 860 tekstbehandlingsanlæg</dd>
          <dt>Placering</dt>
          <dd th:remove="all-but-first">
            <span th:each="p : ${parents}"> ▶ <a href="items-view.html" th:href="@{/items/view/{id}(id=${p.id})}" th:text="${p.headline}">Palle 11002018</a></span>
            <span> ▶ <a href="items-view.html">Sandby magasin</a></span>
            <div th:unless="${#strings.isEmpty(item.itemlocation)}" th:text="${item.itemlocation}">Udstillingen, HH</div>
          </dd>
          <dt th:unless="${#strings.isEmpty(item.itemmodeltype)}">Model/type</dt>
          <dd th:unless="${#strings.isEmpty(item.itemmodeltype)}" th:text="${item.itemmodeltype}">GNT5601</dd>
          <dt th:unless="${#strings.isEmpty(item.itemserialno)}">Serienr.</dt>
          <dd th:unless="${#strings.isEmpty(item.itemserialno)}" th:text="${item.itemserialno}">131-006077-8</dd>
          <dt th:if="${item.qrcode}">QR kode</dt>
          <dd th:if="${item.qrcode}" th:text="${item.qrcode}">59001111</dd>
          <dt class="multiline">Beskrivelse</dt>
          <dd class="multiline" th:utext="${#strings.trim(item.description)}">Rank Xerox type 860 tekstbehandlingsanlæg
med 2 stk 8" diskettedrev, tastatur og skærm.
Product codes X994, X995 og X996.
Serienumre: 1111012438, 131-006077-8, 111-148902-1
Særlige oplysninger: Stammer fra Christian Rovsing A/S. Anlægsaktiv 00092100.</dd>
          <dt th:if="${producer.isPresent()}">Producent</dt>
          <dd th:if="${producer.isPresent()}">
            <a href="producers-view.html" th:href="@{/producers/view/{id}(id=${producer.get().producerid})}" th:text="${producer.get().title}">Rank Xerox</a>
          </dd>
          <dt th:if="${item.itemdatingfrom}">Datering</dt>
          <dd th:if="${item.itemdatingfrom}">Indenfor <span th:remove="tag" th:text="${#temporals.format(item.itemdatingfrom,'yyyy-MM-dd')}">1982-10-11</span>
          <span th:if="${item.itemdatingto}" th:remove="tag" th:text="${' til ' + #temporals.format(item.itemdatingto,'yyyy-MM-dd')}">1992-09-31</span>
          </dd>
          <dt>Emnegrupper</dt>
          <dd th:remove="all-but-first">
            <a class="subject" th:each="subject : ${item.subjects}" href="subjects-view.html" th:href="@{/subjects/view/{id}(id=${subject.subjectid})}" th:text="${subject.title}">Mainframes</a>
            <a class="subject" href="subjects-view.html">Radiorør</a>
          </dd>
        </dl>
        <h2>Billeder</h2>
        <form action="items-view.html" th:action="@{/items/pictureupload}" method="post" enctype="multipart/form-data" onsubmit="submitButton.disabled = true; return true;">
          <div th:remove="all-but-first">
            <a href="#" th:each="picture : ${item.pictures}" th:href="@{/pictures/view/{p}(p=${picture.pictureid})}">
              <img src="../../../test/resources/static/testpicture1.jpg" th:src="@{/media/{p}(p=${picture.low})}"/>
            </a>
            <a href="picture/pictureoriginal/DSC_8078.JPG">
              <img src="../../../test/resources/static/testpicture2.jpg"/>
            </a>
            <a href="picture/pictureoriginal/DSC_8080.JPG">
              <img src="../../../test/resources/static/testpicture3.jpg"/>
            </a>
          </div>
          <div id="pictupload">
            <input type="hidden" name="id" th:value="${item.id}" value="11000937"/>
            <label for="picture">Upload billede</label>
            <input type="file" id="picture" name="file" accept="image/*" capture="environment"/>
            <input id="submitButton" type="submit" value="Upload"/>
          </div>
        </form>
        <div th:unless="${#lists.isEmpty(children)}">
          <h2>Genstande</h2>
          <dl>
            <div th:remove="tag" th:each="child : ${children}">
              <dt>
                <a href="items-view.html" th:href="@{/items/view/{id}(id=${child.id})}" th:text="${child.headline}">Flyttekasse 38</a>
              </dt>
              <dd th:text="${#strings.abbreviate(child.description, 160)}">3 stk DDE710 tastaturer (Facit A3400) 1 stk PC-tastatur</dd>
            </div>
          </dl>
          <nav aria-label="Pagination" th:if="${totalPages &gt; 0}">
            <ul class="pagination">
              <li class="page-item" th:classappend="${currentPage == 1} ? 'disabled'">
                <a th:replace="~{paging :: children(1, '&lt;&lt;', 'Første Side')}">&lt;&lt;</a>
              </li>
              <li class="page-item font-weight-bold" th:classappend="${currentPage == 1} ? 'disabled'">
                <a th:replace="~{paging :: children(${currentPage - 1}, '&lt;', 'Forrige Side')}">&lt;</a>
              </li>
              <li class="page-item disabled" th:if="${currentPage - 2 &gt; 1}">
                <a class="page-link" href="#">...</a>
              </li>
              <li class="page-item" th:classappend="${page == currentPage} ? 'active'" th:each="page : ${#numbers.sequence(currentPage &gt; 2 ? currentPage - 2 : 1, currentPage + 2 &lt; totalPages ? currentPage + 2 : totalPages)}">
                <a th:replace="~{paging :: children(${page}, ${page}, 'Side ' + ${page})}">#</a>
              </li>
              <li class="page-item disabled" th:if="${currentPage + 2 &lt; totalPages}">
                <a class="page-link" href="#">...</a>
              </li>
              <li class="page-item font-weight-bold" th:classappend="${currentPage == totalPages} ? 'disabled'">
                <a th:replace="~{paging :: children(${currentPage + 1},'&gt;', 'Næste Side')}">&gt;</a>
              </li>
              <li class="page-item" th:classappend="${currentPage == totalPages} ? 'disabled'">
                <a th:replace="~{paging :: children(${totalPages}, '&gt;&gt;', 'Sidste Side')}">&gt;&gt;</a>
              </li>
            </ul>
          </nav>
        </div>
      </fieldset>
      <fieldset id="Erhvervelse" class="tabcontent">
        <legend>Erhvervelse</legend>
        <dl class="factsheet">
          <dt th:if="${donor.isPresent()}">Donator</dt>
          <dd th:if="${donor.isPresent()}">
            <a href="donors-view.html" th:href="@{/donors/view/{id}(id=${donor.get().getId()})}" th:text="${donor.get().getTitle()}">SAS Data Seniorklub</a>
          </dd>
          <dt title="Modtagelsesdato">Modtaget</dt>
          <dd><span th:remove="tag" th:text="${#temporals.format(item.itemreceived,'yyyy-MM-dd')}">2012-05-06</span> af <span th:remove="tag" th:text="${item.itemreceivedby}">fvn</span></dd>
          <dt title="Deponeret til museet indtil">Deponeret indtil:</dt>
          <dd th:text="${#temporals.format(item.itemdepositeduntil,'yyyy-MM-dd')}">2032-09-16</dd>
          <dt>Lånt indtil</dt>
          <dd th:text="${#temporals.format(item.itemborroweduntil,'yyyy-MM-dd')}">2027-10-16</dd>
        </dl>
      </fieldset>
      <fieldset id="Brugsaktivitet" class="tabcontent">
        <legend>Brugsaktivitet</legend>
        <dl class="factsheet">
          <dt class="multiline">Brugt af</dt>
          <dd class="multiline" th:utext="${item.itemusedby}">Brugsen</dd>
          <dt class="multiline">Til hvad</dt>
          <dd class="multiline" th:text="${item.itemusedfor}">Kontrabøger</dd>
          <dt class="multiline">Brugt hvor</dt>
          <dd class="multiline" th:text="${item.itemusedwhere}">Ja, hvor henne?</dd>
          <dt>Område</dt>
          <dd>
            <span th:each="s : ${steder}" th:if="${s.id == item.itemusedwhereid}" th:text="${s.stednavn}">København</span>
          </dd>
        </dl>
      </fieldset>
      <fieldset id="Notater" class="tabcontent">
        <legend>Notater</legend>
        <dl class="factsheet">
          <dt class="multiline" title="Særlige oplysninger om genstandens proveniens">Særlige oplysninger</dt>
          <dd class="multiline" th:utext="${item.itemextrainfo}">Tekst her</dd>
          <dt class="multiline" >Restaurering</dt>
          <dd class="multiline" th:utext="${item.itemrestoration}">Tekst her</dd>
          <dt class="multiline" title="Litteraturhenvisninger">Litteratur</dt>
          <dd class="multiline" th:utext="${item.itemreferences}">Tekst her</dd>
          <dt class="multiline">Bemærkninger (intern)</dt>
          <dd class="multiline" th:utext="${item.itemremarks}">Kommentarer</dd>
        </dl>
      </fieldset>
    </main>
    <footer th:replace="~{layout :: footerFragment}">
    Footer
    </footer>
  </body>
</html>
